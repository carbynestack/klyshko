#
# Copyright (c) 2023 - for information on the respective copyright owner
# see the NOTICE file and/or the repository https://github.com/carbynestack/klyshko.
#
# SPDX-License-Identifier: Apache-2.0
#

#
# Deploys a 2-party low-gear offline phase setup.
#
services:
  player-0:
    image: "mp-spdz-cowgear:latest"
    ports:
      - "5000:5000"
    environment:
      - KII_JOB_ID=58301070-9b4c-4d38-ae89-d7aa989720a0
      - KII_TUPLES_PER_JOB=500000
      - KII_PLAYER_NUMBER=0
      - KII_PLAYER_COUNT=2
      - KII_TUPLE_TYPE=MULTIPLICATION_TRIPLE_GFP
      - KII_TUPLE_FILE=/etc/kii/tuples
      - KII_PLAYER_ENDPOINT_0=player-0:5000
      - KII_PLAYER_ENDPOINT_1=player-1:5001
    volumes:
      - ./volumes/0:/etc/kii/
  player-1:
    image: "mp-spdz-cowgear:latest"
    ports:
      - "5001:5000"
    environment:
      - KII_JOB_ID=58301070-9b4c-4d38-ae89-d7aa989720a0
      - KII_TUPLES_PER_JOB=500000
      - KII_PLAYER_NUMBER=1
      - KII_PLAYER_COUNT=2
      - KII_TUPLE_TYPE=MULTIPLICATION_TRIPLE_GFP
      - KII_TUPLE_FILE=/etc/kii/tuples
      - KII_PLAYER_ENDPOINT_0=player-0:5000
      - KII_PLAYER_ENDPOINT_1=player-1:5001
    volumes:
      - ./volumes/1:/etc/kii/
